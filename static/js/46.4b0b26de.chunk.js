"use strict";(self.webpackChunkootododash=self.webpackChunkootododash||[]).push([[46],{46:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var r=n(2134),o=n(5043),s=n(3003),a=n(8004),i=n(579);function c(){const[e,t]=(0,o.useState)(""),n=(0,s.wA)();let c=(0,r.zy)().pathname.split("/").pop();async function d(){try{c=""===c?"todo":c,""!==e&&e?await n((0,a.vf)({search:e,status:c})):await n((0,a.WO)(c))}catch(t){console.error(t)}}return(0,o.useEffect)((()=>{d()}),[e]),(0,i.jsxs)("div",{className:"searchBox gap10 center",children:[(0,i.jsx)("div",{onClick:d,"aria-labelledby":"SearchHandler",name:"SearchHandler",id:"faSearchIco",role:"button",className:"center",children:(0,i.jsx)("svg",{width:15,height:15,"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",id:"faSearchIco",children:(0,i.jsx)("path",{fill:"currentColor",d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})})}),(0,i.jsx)("input",{name:"searchboxInput",autoComplete:"off",value:e,onKeyDown:e=>{"Enter"===e.key?d():console.log()},onChange:e=>t(e.target.value),placeholder:"Search...",className:"inputSearch",type:"search"})]})}function d(){return(0,i.jsx)("header",{className:"headerContainer center",children:(0,i.jsx)(c,{})})}function l(e){return(0,i.jsx)(r.k2,{to:e.to,className:"".concat(e.className," navigationLink"),children:e.children})}function u(){const e="new-to-do"===(0,r.zy)().pathname.split("/").pop().toString(),t=(0,s.d4)(a.K4),[n,c]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{var e;""!==t.title||""!==t.attachments||0!==(null===(e=t.content)||void 0===e?void 0:e.length)?c(!0):c(!1)}),[t]),(0,i.jsxs)("div",{className:"col gap10",children:[(0,i.jsxs)(l,{className:"row gap30",to:"/",children:[(0,i.jsx)("svg",{id:"list",width:"15",height:"18",viewBox:"0 0 15 18",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M5.50781 2.1875C5.88021 1.27083 6.48177 0.8125 7.3125 0.8125C8.14323 0.8125 8.74479 1.27083 9.11719 2.1875H10.75H11.4375H13.5H14.1875V2.875V17.3125V18H13.5H1.125H0.4375V17.3125V2.875V2.1875H1.125H3.1875H3.875H5.50781ZM7.78516 2.40234C7.67057 2.25911 7.51302 2.1875 7.3125 2.1875C7.11198 2.1875 6.9401 2.25911 6.79688 2.40234C6.68229 2.51693 6.625 2.67448 6.625 2.875V3.5625H5.9375H4.5625V4.9375H10.0625V3.5625H8.6875H8V2.875C8 2.67448 7.92839 2.51693 7.78516 2.40234ZM1.8125 3.5625V16.625H12.8125V3.5625H11.4375V5.625V6.3125H10.75H3.875H3.1875V5.625V3.5625H1.8125Z",fill:"#202224"})}),"To-Do"]}),(0,i.jsxs)(l,{className:"row gap30",to:"/saved",children:[(0,i.jsx)("svg",{id:"savedstar",width:"18",height:"18",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.8401 1.51507L18.7064 9.175L26.148 9.91222C26.5097 9.94228 26.8209 10.18 26.945 10.5211C27.0692 10.8622 26.9835 11.2444 26.7257 11.4999L20.6015 17.5698L22.8721 25.8179C22.967 26.1753 22.8434 26.5551 22.5564 26.7882C22.2694 27.0213 21.8724 27.0644 21.5421 26.8983L13.9977 23.1625L6.4637 26.8937C6.13337 27.0598 5.73633 27.0167 5.44934 26.7836C5.16236 26.5504 5.03881 26.1707 5.1337 25.8133L7.4043 17.5652L1.27543 11.4953C1.01761 11.2398 0.931977 10.8576 1.05611 10.5165C1.18023 10.1754 1.49144 9.93766 1.85319 9.90759L9.29472 9.17037L13.1553 1.51507C13.3172 1.1989 13.6425 1 13.9977 1C14.3529 1 14.6782 1.1989 14.8401 1.51507Z",stroke:"#B3B3B3",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Saved"]}),(0,i.jsxs)(l,{className:"row gap30",to:"/checked",children:[(0,i.jsx)("svg",{id:"doneList",width:"18",height:"16",viewBox:"0 0 18 16",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M5.04688 0.359375L6.07812 1.39062L3.32812 4.14062L2.8125 4.57031L2.29688 4.14062L0.921875 2.76562L1.95312 1.73438L2.8125 2.63672L5.04688 0.359375ZM8.3125 1.5625H17.25V2.9375H8.3125V1.5625ZM5.04688 5.85938L6.07812 6.89062L3.32812 9.64062L2.8125 10.0703L2.29688 9.64062L0.921875 8.26562L1.95312 7.23438L2.8125 8.13672L5.04688 5.85938ZM8.3125 7.0625H17.25V8.4375H8.3125V7.0625ZM5.04688 11.3594L6.07812 12.3906L3.32812 15.1406L2.8125 15.5703L2.29688 15.1406L0.921875 13.7656L1.95312 12.7344L2.8125 13.6367L5.04688 11.3594ZM8.3125 12.5625H17.25V13.9375H8.3125V12.5625Z",fill:"#202224"})}),"Checked"]}),(0,i.jsxs)(l,{className:"row gap30",to:"/bin",children:[(0,i.jsxs)("svg",{id:"binList",width:"18",height:"16",viewBox:"0 0 18 16",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.2001 15.4H4.8001C4.13736 15.4 3.6001 14.8628 3.6001 14.2V3.40002H14.4001V14.2C14.4001 14.8628 13.8628 15.4 13.2001 15.4Z",stroke:"black",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M7.20029 11.8V7",stroke:"black",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M10.8004 11.8V7",stroke:"black",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M1.2002 3.4H16.8002",stroke:"black",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.8 1H7.2C6.53726 1 6 1.53726 6 2.2V3.4H12V2.2C12 1.53726 11.4627 1 10.8 1Z",stroke:"black",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Bin"]}),(0,i.jsxs)(l,{className:"row gap30",to:"/new-to-do",children:[n&&!e&&(0,i.jsx)("div",{className:"notific"}),(0,i.jsxs)("svg",{id:"newList",width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.7933 2.20666C15.3346 1.74992 14.7124 1.49543 14.0651 1.49981C13.4178 1.50419 12.7991 1.76708 12.3467 2.22999L2.68 11.8967L1.5 16.5L6.10333 15.3193L15.77 5.65266C16.233 5.20039 16.496 4.58177 16.5004 3.93452C16.5048 3.28728 16.2502 2.66515 15.7933 2.20666Z",stroke:"#202224",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M12.0708 2.50665L15.4935 5.92932",stroke:"#202224",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M2.68066 11.896L6.10666 15.316",stroke:"#202224",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"New To-Do"]})]})}function h(){return(0,i.jsx)("div",{className:"logoContainer center",children:(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{children:"Todo"}),"Dash"]})})}function p(){return(0,i.jsxs)("nav",{role:"navigation",className:"navContainer col gap10",children:[(0,i.jsx)(h,{}),(0,i.jsx)(u,{})]})}var f=n(9379),v=n(6218),w=n(600);const L=(e,t)=>t.some((t=>e instanceof t));let g,x;const j=new WeakMap,k=new WeakMap,m=new WeakMap;let C={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return j.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return V(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function y(e){C=e(C)}function b(e){return(x||(x=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(B(this),n),V(this.request)}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return V(e.apply(B(this),n))}}function H(e){return"function"===typeof e?b(e):(e instanceof IDBTransaction&&function(e){if(j.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)}));j.set(e,t)}(e),L(e,g||(g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,C):e)}function V(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{t(V(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",s)}));return m.set(t,e),t}(e);if(k.has(e))return k.get(e);const t=H(e);return t!==e&&(k.set(e,t),m.set(t,e)),t}const B=e=>m.get(e);const D=["get","getKey","getAll","getAllKeys","count"],I=["put","add","delete","clear"],M=new Map;function N(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(M.get(t))return M.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=I.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!D.includes(n))return;const s=async function(e){const t=this.transaction(e,o?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,i=new Array(a>1?a-1:0),c=1;c<a;c++)i[c-1]=arguments[c];return r&&(s=s.index(i.shift())),(await Promise.all([s[n](...i),o&&t.done]))[0]};return M.set(t,s),s}y((e=>(0,f.A)((0,f.A)({},e),{},{get:(t,n,r)=>N(t,n)||e.get(t,n,r),has:(t,n)=>!!N(t,n)||e.has(t,n)})));const S=["continue","continuePrimaryKey","advance"],E={},A=new WeakMap,W=new WeakMap,Z={get(e,t){if(!S.includes(t))return e[t];let n=E[t];return n||(n=E[t]=function(){A.set(this,W.get(this)[t](...arguments))}),n}};function R(){return O.apply(this,arguments)}function O(){return O=(0,w.A)((function*(){let e=this;if(e instanceof IDBCursor||(e=yield(0,v.A)(e.openCursor(...arguments))),!e)return;const t=new Proxy(e,Z);for(W.set(t,e),m.set(t,B(e));e;)yield t,e=yield(0,v.A)(A.get(t)||e.continue()),A.delete(t)})),O.apply(this,arguments)}function P(e,t){return t===Symbol.asyncIterator&&L(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&L(e,[IDBIndex,IDBObjectStore])}y((e=>(0,f.A)((0,f.A)({},e),{},{get:(t,n,r)=>P(t,n)?R:e.get(t,n,r),has:(t,n)=>P(t,n)||e.has(t,n)})));const T=function(e,t){let{blocked:n,upgrade:r,blocking:o,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),i=V(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(V(a.result),e.oldVersion,e.newVersion,V(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),i.then((e=>{s&&e.addEventListener("close",(()=>s())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),i}("todo",1,{upgrade(e){e.objectStoreNames.contains("draft")||e.createObjectStore("draft",{keyPath:"id",autoIncrement:!0})}}).catch((e=>console.log(e)));let K;function z(){const e=(0,s.wA)();return K=(0,s.d4)(a.K4),(0,o.useEffect)((()=>{try{async function n(){const t=await T;if(!t.objectStoreNames.contains("draft"))return console.warn("Object store draft does not exist."),null;const n=await t.get("draft","INDEX_DB_ID");"object"===typeof n&&e((0,a.uj)(n));const r=t.transaction("draft","readwrite");await r.store.clear(),await r.done}n()}catch(t){console.error("no draft in idb",t)}}),[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"headerNaveContainer row",children:[(0,i.jsx)(p,{}),(0,i.jsxs)("div",{className:"mainContainerTodolist col",children:[(0,i.jsx)(d,{}),(0,i.jsx)("main",{id:"mainScroll",role:"main",className:"col gap50",children:(0,i.jsx)(r.sv,{})})]})]})})}window.addEventListener("beforeunload",(function(e){""===K.title&&""===K.attachments&&0===K.content.length||null===T||void 0===T||T.then((e=>{e.put("draft",K)}));e.preventDefault(),e.returnValue=""}))}}]);
//# sourceMappingURL=46.4b0b26de.chunk.js.map